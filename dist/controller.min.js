import{P,count,countdown,demoStart,menu,onClick,profession,resetMenu,resetTooltipBox,setOnClick,setTooltipBox}from"../dist/model.min.js";VANTA.FOG({el:"#fog",mouseControls:!0,touchControls:!0,minHeight:200,minWidth:200,highlightColor:11747811,midtoneColor:10748159,lowlightColor:6497723,baseColor:16579836,zoom:1.8});const PAGE=$("#page");$(()=>{$(".menu").on("click",(function(){PAGE.fadeOut(400,()=>PAGE.load("view/"+$(this).data("menu")+".html",()=>menu($(this).data("menu"))).hide().fadeIn())}))}),setInterval(()=>countdown(),1e3),PAGE.load("view/home.html").hide().fadeIn();export function precisionCalculator(){resetMenu(),document.getElementById("menuPrecisionCalculator").style.borderBottomColor="#FFFFFF",loadPrecisionCalculator(),calculate(),resetTooltipBox(),$(()=>{setOnClick(),setTooltipBox(),$("#P\\.AGONY_IMPEDANCE").on("change",()=>{const E=document.getElementById("P.AGONY_IMPEDANCE");""===E.value||E.value.replace(".","")<0?E.value=0:E.value.replace(".","")>4?E.value=4:E.value=E.value.replace(".",""),P.AGONY_RESISTANCE+=5*E.value.replace(".","")-P.AGONY_IMPEDANCE,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,P.AGONY_IMPEDANCE=5*E.value.replace(".",""),calculate()}),$("#P\\.AGONY_RESISTANCE").on("change",()=>{const E=document.getElementById("P.AGONY_RESISTANCE");""===E.value||E.value.replace(".","")<0?P.AGONY_RESISTANCE=0:E.value.replace(".","")>605?P.AGONY_RESISTANCE=605:P.AGONY_RESISTANCE=parseInt(E.value.replace(".","")),E.value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.VITALITY").on("change",()=>{const E=document.getElementById("P.VITALITY");""===E.value||E.value.replace(".","")<1e3?P.VITALITY=1e3:E.value.replace(".","")>9999?P.VITALITY=9999:P.VITALITY=E.value.replace(".",""),E.value=P.VITALITY,calculate()}),$("#P\\.ANGUISHED_TEAR_OF_ALBA").on("click",()=>{P.AGONY_RESISTANCE-=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),P.ANGUISHED_TEAR_OF_ALBA=onClick(1,"P.ANGUISHED_TEAR_OF_ALBA"),P.AGONY_RESISTANCE+=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),document.getElementById("agonyResistance").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.RIGOROUS_CERTAINTY").on("click",()=>{P.AGONY_RESISTANCE-=P.RIGOROUS_CERTAINTY,P.RIGOROUS_CERTAINTY=onClick(5,"P.RIGOROUS_CERTAINTY"),P.AGONY_RESISTANCE+=P.RIGOROUS_CERTAINTY,document.getElementById("agonyResistance").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.AMULET_SLOT").on("click",()=>{P.AMULET_SLOT=equipment("P.AMULET_SLOT",[108,157,71,133,72]),calculate()}),$("#P\\.BACK_SLOT").on("click",()=>{P.BACK_SLOT=equipment("P.BACK_SLOT",[40,63,27,52,28]),calculate()}),$("#P\\.BEAR_TRINKET_SLOT").on("click",()=>{P.BEAR_TRINKET_SLOT=equipment("P.BEAR_TRINKET_SLOT",[74,110,49,92,50]),calculate()}),$("#P\\.CHEST_SLOT").on("click",()=>{P.CHEST_SLOT=equipment("P.CHEST_SLOT",[101,141,67,121]),calculate()}),$("#P\\.CUBE_TRINKET_SLOT").on("click",()=>{P.CUBE_TRINKET_SLOT=equipment("P.CUBE_TRINKET_SLOT",[74,110,49,92,50]),calculate()}),$("#P\\.FEET_SLOT").on("click",()=>{P.FEET_SLOT=equipment("P.FEET_SLOT",[34,47,22,40]),calculate()}),$("#P\\.HAND_SLOT").on("click",()=>{P.HAND_SLOT=equipment("P.HAND_SLOT",[34,47,22,40]),calculate()}),$("#P\\.HEAD_SLOT").on("click",()=>{P.HEAD_SLOT=equipment("P.HEAD_SLOT",[45,63,30,54]),calculate()}),$("#P\\.LEFT_RING_SLOT").on("click",()=>{P.LEFT_RING_SLOT=equipment("P.LEFT_RING_SLOT",[85,126,56,106,57]),calculate()}),$("#P\\.LEG_SLOT").on("click",()=>{P.LEG_SLOT=equipment("P.LEG_SLOT",[67,94,44,81]),calculate()}),$("#P\\.RIGHT_RING_SLOT").on("click",()=>{P.RIGHT_RING_SLOT=equipment("P.RIGHT_RING_SLOT",[85,126,56,106,57]),calculate()}),$("#P\\.SHIELD_SLOT").on("click",()=>{P.SHIELD_SLOT=equipment("P.SHIELD_SLOT",[90,125,59,108,0]),calculate()}),$("#P\\.SHOULDER_SLOT").on("click",()=>{P.SHOULDER_SLOT=equipment("P.SHOULDER_SLOT",[34,47,22,40]),calculate()}),$("#P\\.SWORD_SLOT").on("click",()=>{P.SWORD_SLOT=equipment("P.SWORD_SLOT",[90,125,59,108,179,251,118,215]),calculate()}),$("#P\\.AGONY_CHANNELER").on("click",()=>{resetFractalAttunement(),P.AGONY_CHANNELER=onClick(10,"P.AGONY_CHANNELER","P.RECURSIVE_RESOURCING","P.MISTLOCK_SINGULARITIES"),P.AGONY_RESISTANCE+=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.RECURSIVE_RESOURCING").on("click",()=>{resetFractalAttunement(),P.RECURSIVE_RESOURCING=onClick(25,"P.RECURSIVE_RESOURCING","P.AGONY_CHANNELER","P.MISTLOCK_SINGULARITIES"),P.AGONY_RESISTANCE+=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.MISTLOCK_SINGULARITIES").on("click",()=>{resetFractalAttunement(),P.MISTLOCK_SINGULARITIES=onClick(30,"P.MISTLOCK_SINGULARITIES","P.AGONY_CHANNELER","P.RECURSIVE_RESOURCING"),P.AGONY_RESISTANCE+=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.MIST_ATTUNEMENT_1").on("click",()=>{resetMistAttunement(),P.MIST_ATTUNEMENT_1=onClick(5,"P.MIST_ATTUNEMENT_1","P.MIST_ATTUNEMENT_2","P.MIST_ATTUNEMENT_3","P.MIST_ATTUNEMENT_4"),P.AGONY_RESISTANCE+=P.MIST_ATTUNEMENT_1,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.MIST_ATTUNEMENT_2").on("click",()=>{resetMistAttunement(),P.MIST_ATTUNEMENT_2=onClick(10,"P.MIST_ATTUNEMENT_2","P.MIST_ATTUNEMENT_1","P.MIST_ATTUNEMENT_3","P.MIST_ATTUNEMENT_4"),P.AGONY_RESISTANCE+=P.MIST_ATTUNEMENT_2,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.MIST_ATTUNEMENT_3").on("click",()=>{resetMistAttunement(),P.MIST_ATTUNEMENT_3=onClick(15,"P.MIST_ATTUNEMENT_3","P.MIST_ATTUNEMENT_1","P.MIST_ATTUNEMENT_2","P.MIST_ATTUNEMENT_4"),P.AGONY_RESISTANCE+=P.MIST_ATTUNEMENT_3,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$("#P\\.MIST_ATTUNEMENT_4").on("click",()=>{resetMistAttunement(),P.MIST_ATTUNEMENT_4=onClick(25,"P.MIST_ATTUNEMENT_4","P.MIST_ATTUNEMENT_1","P.MIST_ATTUNEMENT_2","P.MIST_ATTUNEMENT_3"),P.AGONY_RESISTANCE+=P.MIST_ATTUNEMENT_4,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,calculate()}),$(".profession").on("click",(function(){$("#trait").load("view/precisionCalculator/trait/"+this.id.substring(2).toLowerCase()+".html",()=>{profession(this.id),setOnClick(),setTooltipBox()})}));const E=["P.MAJOR_SIGIL_OF_ACCURACY","P.MINOR_SIGIL_OF_ACCURACY","P.SUPERIOR_SIGIL_OF_ACCURACY"];$("#P\\.MAJOR_SIGIL_OF_ACCURACY").on("click",()=>{checkRadio(E,"P.MAJOR_SIGIL_OF_ACCURACY"),P.MAJOR_SIGIL_OF_ACCURACY=onClick(5,"P.MAJOR_SIGIL_OF_ACCURACY","P.MINOR_SIGIL_OF_ACCURACY","P.SUPERIOR_SIGIL_OF_ACCURACY"),calculate()}),$("#P\\.MINOR_SIGIL_OF_ACCURACY").on("click",()=>{checkRadio(E,"P.MINOR_SIGIL_OF_ACCURACY"),P.MINOR_SIGIL_OF_ACCURACY=onClick(3,"P.MINOR_SIGIL_OF_ACCURACY","P.MAJOR_SIGIL_OF_ACCURACY","P.SUPERIOR_SIGIL_OF_ACCURACY"),calculate()}),$("#P\\.SUPERIOR_SIGIL_OF_ACCURACY").on("click",()=>{checkRadio(E,"P.SUPERIOR_SIGIL_OF_ACCURACY"),P.SUPERIOR_SIGIL_OF_ACCURACY=onClick(7,"P.SUPERIOR_SIGIL_OF_ACCURACY","P.MAJOR_SIGIL_OF_ACCURACY","P.MINOR_SIGIL_OF_ACCURACY"),calculate()});const e=["P.SIGNET_OF_AGILITY","P.SIGNET_OF_FIRE","P.SIGNET_OF_FURY"];$("#P\\.SIGNET_OF_AGILITY").on("click",()=>{checkRadio(e,"P.SIGNET_OF_AGILITY"),P.SIGNET_OF_AGILITY=onClick(180,"P.SIGNET_OF_AGILITY"),calculate()}),$("#P\\.SIGNET_OF_FIRE").on("click",()=>{checkRadio(e,"P.SIGNET_OF_FIRE"),P.SIGNET_OF_FIRE=onClick(180,"P.SIGNET_OF_FIRE"),calculate()}),$("#P\\.SIGNET_OF_FURY").on("click",()=>{checkRadio(e,"P.SIGNET_OF_FURY"),P.SIGNET_OF_FURY=onClick(180,"P.SIGNET_OF_FURY"),calculate()})})}function loadPrecisionCalculator(){document.getElementById("P.AGONY_IMPEDANCE").value=P.AGONY_IMPEDANCE/5,document.getElementById("P.AGONY_RESISTANCE").value=P.AGONY_RESISTANCE,document.getElementById("P.VITALITY").value=P.VITALITY;const PRECISION_CALCULATOR=[["P.FURY",1],["P.RETALIATION",1],["P.BLEEDING",1],["P.BURNING",1],["P.SLOW",1],["P.VULNERABILITY",25],["P.WEAKNESS",1],["P.ANGUISHED_TEAR_OF_ALBA",1],["P.RIGOROUS_CERTAINTY",5],["P.AGONY_CHANNELER",10],["P.RECURSIVE_RESOURCING",25],["P.MISTLOCK_SINGULARITIES",30],["P.INFINITE_MIST_OMNIPOTION",5],["P.MIST_ATTUNEMENT_1",5],["P.MIST_ATTUNEMENT_2",10],["P.MIST_ATTUNEMENT_3",15],["P.MIST_ATTUNEMENT_4",25],["P.MAJOR_SIGIL_OF_ACCURACY",5],["P.MINOR_SIGIL_OF_ACCURACY",3],["P.SUPERIOR_SIGIL_OF_ACCURACY",7],["P.SUPERIOR_SIGIL_OF_VISION",1],["P.SPOTTER",100],["P.BANNER_OF_DISCIPLINE",100],["P.CONJURE_LIGHTNING_HAMMER",180],["P.SIGNET_OF_AGILITY",180],["P.SIGNET_OF_FIRE",180],["P.SIGNET_OF_FURY",180]],PROFESSION=[["P.ELEMENTALIST",["P.ELEMENTS_OF_RAGE",.13],["P.SUPERIOR_ELEMENTS",10]],["P.ENGINEER",["P.HEMATIC.FOCUS",10],["P.HIGH_CALIBER",15]],["P.GUARDIAN",["P.RADIANT_POWER",10],["P.RIGHT_HAND_STRENGTH",80],["P.RIGHTEAOUS_INSTINCTS",25]],["P.MESMER",["P.DANGER_TIME",15]],["P.NECROMANCER",["P.DEATH_PERCEPTION",33],["P.DECIMATE_DEFENSES",2],["P.FURIOUS_DEMISE",180],["P.TARGET_THE_WEAK",28]],["P.RANGER",["P.HUNTERS_TACTICS",10],["P.PRECISE_STRIKE",1],["P.VICIOUS_QUARRY",10]],["P.REVENANT",["P.BRUTAL_MOMENTUM",33]],["P.THIEF",["P.BE_QUICK_OR_BE_KILLED",200],["P.HIDDEN_KILLER",1],["P.KEEN_OBSERVER",5],["P.SILENT_SCOPE",240],["P.TWIN_FANGS",7]],["P.WARRIOR",["P.BURST_PRECISION",1],["P.DOUBLED_STANDARDS",1],["P.UNSUSPECTING_FOE",50]]];let temp=null;PROFESSION.forEach(element=>{if(1===eval(element[0])){for(let E=1;E<element.length;E++)PRECISION_CALCULATOR.push(element[E]);temp=element[0]}}),null!=temp?$("#trait").load("view/precisionCalculator/trait/"+temp.substring(2).toLowerCase()+".html",()=>{PRECISION_CALCULATOR.forEach(element=>{0===eval(element[0])?document.getElementById(element[0]).style.borderColor="transparent":eval(element[0])===element[1]?document.getElementById(element[0]).style.borderColor="#00FF00":document.getElementById(element[0]).style.borderColor="#ED7F10"}),eval(temp.substring(2).toLowerCase()+"Menu()")}):PRECISION_CALCULATOR.forEach(element=>{0===eval(element[0])?document.getElementById(element[0]).style.borderColor="transparent":eval(element[0])===element[1]?document.getElementById(element[0]).style.borderColor="#00FF00":document.getElementById(element[0]).style.borderColor="#ED7F10"});const EQUIPMENT=["P.AMULET_SLOT","P.BACK_SLOT","P.BEAR_TRINKET_SLOT","P.CHEST_SLOT","P.CUBE_TRINKET_SLOT","P.FEET_SLOT","P.HAND_SLOT","P.HEAD_SLOT","P.LEFT_RING_SLOT","P.LEG_SLOT","P.RIGHT_RING_SLOT","P.SHIELD_SLOT","P.SHOULDER_SLOT","P.SWORD_SLOT"];EQUIPMENT.forEach(element=>{document.getElementById(element+"_PRECISION").innerText=eval(element)})}export function calculate(){const E=1e3+P.AGONY_RESISTANCE*(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES)/100*P.INFINITE_MIST_OMNIPOTION+(P.AMULET_SLOT+P.BACK_SLOT+P.BEAR_TRINKET_SLOT+P.CHEST_SLOT+P.CUBE_TRINKET_SLOT+P.FEET_SLOT+P.HAND_SLOT+P.HEAD_SLOT+P.LEFT_RING_SLOT+P.LEG_SLOT+P.RIGHT_RING_SLOT+P.SHIELD_SLOT+P.SHOULDER_SLOT+P.SWORD_SLOT)+P.SPOTTER+(P.BE_QUICK_OR_BE_KILLED+P.SILENT_SCOPE)+P.ELEMENTS_OF_RAGE*P.VITALITY+P.FURIOUS_DEMISE+P.RIGHT_HAND_STRENGTH+((P.DOUBLED_STANDARDS+1)*P.BANNER_OF_DISCIPLINE+P.CONJURE_LIGHTNING_HAMMER+P.SIGNET_OF_AGILITY+P.SIGNET_OF_FIRE+P.SIGNET_OF_FURY);demoStart(parseInt(document.getElementById("P.PRECISION").innerText.replace(",","")),0,"","","P.PRECISION",E);let e=5+(E-1e3)/21+20*P.FURY+(P.MAJOR_SIGIL_OF_ACCURACY+P.MINOR_SIGIL_OF_ACCURACY+P.SUPERIOR_SIGIL_OF_ACCURACY)+(P.HEMATIC_FOCUS*P.BLEEDING+P.HIGH_CALIBER)+(P.HUNTERS_TACTICS+P.VICIOUS_QUARRY*P.FURY)+(P.KEEN_OBSERVER+P.TWIN_FANGS)+P.SUPERIOR_ELEMENTS*P.WEAKNESS+P.DANGER_TIME*P.SLOW+(P.DEATH_PERCEPTION+P.DECIMATE_DEFENSES*P.VULNERABILITY+P.TARGET_THE_WEAK)+(P.RADIANT_POWER*P.BURNING+P.RIGHTEOUS_INSTINCTS*P.RETALIATION)+P.BRUTAL_MOMENTUM+P.UNSUSPECTING_FOE;1!==P.BURST_PRECISION&&1!==P.HIDDEN_KILLER&&1!==P.PRECISE_STRIKE&&1!==P.SUPERIOR_SIGIL_OF_VISION||(e=100),demoStart(parseFloat(document.getElementById("P.CRITICAL_CHANCE").innerText.substring(0,document.getElementById("P.CRITICAL_CHANCE").innerText.length-2)),2,""," %","P.CRITICAL_CHANCE",e.toFixed(2))}function equipment(id,int){let precision=int[0];for(let i=0;i<int.length;i++)eval(id)===int[i]&&i!==int.length-1&&(precision=int[i+1]);return document.getElementById(id+"_PRECISION").innerText=precision,precision}function resetFractalAttunement(){P.AGONY_RESISTANCE-=P.ANGUISHED_TEAR_OF_ALBA*(10+(P.AGONY_CHANNELER+P.RECURSIVE_RESOURCING+P.MISTLOCK_SINGULARITIES>0?5:0)),P.AGONY_CHANNELER=P.RECURSIVE_RESOURCING=P.MISTLOCK_SINGULARITIES=0}function resetMistAttunement(){P.AGONY_RESISTANCE-=P.MIST_ATTUNEMENT_1+P.MIST_ATTUNEMENT_2+P.MIST_ATTUNEMENT_3+P.MIST_ATTUNEMENT_4,P.MIST_ATTUNEMENT_1=P.MIST_ATTUNEMENT_2=P.MIST_ATTUNEMENT_3=P.MIST_ATTUNEMENT_4=0}function checkRadio(E,e){for(const I in E)Object.prototype.hasOwnProperty.call(E,I)&&E[I]!==e&&(document.getElementById(E[I]).style.borderColor="transparent",P[E[I].substring(2)]=0)}let apiKey="?access_token=74C4807F-4E95-5B4F-A649-2C47D7F54965C4414169-033B-405A-BE36-5A638C14C1D2";export function uceCounter(){resetMenu(),document.getElementById("menuUceCounter").style.borderBottomColor="#FFFFFF";const E=document.getElementById("uce"),e="https://api.guildwars2.com/v2/",I=document.getElementById("s"),T=document.getElementById("gold"),_=document.getElementById("silver");apiKey=0!==document.getElementById("apiKey").value.length?"?access_token="+document.getElementById("apiKey").value:apiKey,document.getElementById("apiKey").value="",E.innerText="0",T.innerHTML="0&nbsp",_.innerHTML="&nbsp&nbsp0&nbsp",fetch(e+"account/bank"+apiKey).then(E=>E.json()).then(e=>e.forEach(e=>{count(e,E,I,T,_)})),fetch(e+"account/inventory"+apiKey).then(E=>E.json()).then(e=>e.forEach(e=>{count(e,E,I,T,_)})),fetch(e+"characters"+apiKey).then(E=>E.json()).then(S=>S.toString().split(",").forEach(S=>{fetch(e+"characters/"+S+"/inventory"+apiKey).then(E=>E.json()).then(e=>e.bags.forEach(e=>{null!==e&&e.inventory.forEach(e=>{count(e,E,I,T,_)})}))}))}